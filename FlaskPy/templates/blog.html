<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="dicoding:email" content="bagusasp01@gmail.com">
  <title>MentalMate - Kesehatan Mental</title>
  <link rel="icon" href="{{ url_for('static', filename='icon.png') }}" type="image/png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary-custom sticky-top">
    <div class="container">
      <a class="navbar-brand" href="{{ url_for('index') }}">MentalMate</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('index') }}">Beranda</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('index') }}#fitur">Fitur</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('index') }}#manfaat">Manfaat</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#chatbotModal">Chatbot</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="{{ url_for('blog') }}">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('checkin') }}">Checkin</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <header class="blog-header">
    <div class="blog-header-pattern"></div>
    <div class="container blog-header-content">
      <h1 class="display-5 fw-bold mb-3">Blog MentalMate</h1>
      <p class="fs-5 mb-4">Artikel dan edukasi untuk kesehatan mental dan kesejahteraan psikologis</p>
    </div>
  </header>

  <section class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8">
          <div class="category-filter">
            <button class="filter-btn active" data-category="Semua">Semua</button>
            <button class="filter-btn" data-category="Kesehatan Mental">Kesehatan Mental</button>
            <button class="filter-btn" data-category="Kecanduan">Kecanduan</button>
            <button class="filter-btn" data-category="Judi Online">Judi Online</button>
            <button class="filter-btn" data-category="Motivasi">Motivasi</button>
            <button class="filter-btn" data-category="Tips Kesehatan">Tips Kesehatan</button>
          </div>

          <div id="blog-list" class="row g-4">
            <div class="col-md-6 blog-item">
              <div class="blog-card">
                <div class="blog-card-img" style="background-image: url('https://th.bing.com/th/id/OIP.bcqQpaZb6xruV7oHN-GhHgHaE8?rs=1&pid=ImgDetMain');"></div>
                <div class="blog-card-body">
                  <span class="blog-category">Judi Online</span>
                  <span class="blog-category">Kesehatan Mental</span>
                  <span class="blog-date"><i class="far fa-calendar-alt me-1"></i> 15 Mei 2025</span>
                  <h3 class="blog-title h5">Dampak Judi Online pada Kesehatan Mental dan Cara Mengatasinya</h3>
                  <p class="mb-3">Judi online dapat menimbulkan dampak serius pada kesehatan mental termasuk kecemasan, depresi, dan kecanduan. Pelajari tanda-tanda dan cara mengatasinya.</p>
                  <a href="#article-judi-online" class="btn btn-sm btn-primary-custom">Baca Selengkapnya</a>
                </div>
              </div>
            </div>

            <div class="col-md-6 blog-item">
              <div class="blog-card">
                <div class="blog-card-img" style="background-image: url('https://th.bing.com/th/id/OIP.kVos-xQ5plpJYhTq1Y7m0AHaE7?rs=1&pid=ImgDetMain');"></div>
                <div class="blog-card-body">
                  <span class="blog-category">Kecanduan</span>
                  <span class="blog-category">Kesehatan Mental</span>
                  <span class="blog-date"><i class="far fa-calendar-alt me-1"></i> 10 Mei 2025</span>
                  <h3 class="blog-title h5">Mengenali Tanda-tanda Kecanduan dalam Diri dan Orang Terdekat</h3>
                  <p class="mb-3">Kecanduan dapat bersembunyi di balik kebiasaan sehari-hari. Pelajari cara mengenali tanda-tanda peringatan dini dan pentingnya intervensi awal.</p>
                  <a href="#article-kecanduan" class="btn btn-sm btn-primary-custom">Baca Selengkapnya</a>
                </div>
              </div>
            </div>

            <div class="col-md-6 blog-item">
              <div class="blog-card">
                <div class="blog-card-img" style="background-image: url('https://th.bing.com/th/id/OIP.CO6PPi6NolSR_gJjl7tvyAHaEo?rs=1&pid=ImgDetMain');"></div>
                <div class="blog-card-body">
                  <span class="blog-category">Mindfulness</span>
                  <span class="blog-category">Tips Kesehatan</span>
                  <span class="blog-date"><i class="far fa-calendar-alt me-1"></i> 5 Mei 2025</span>
                  <h3 class="blog-title h5">5 Teknik Mindfulness untuk Mengatasi Kecemasan dan Stres</h3>
                  <p class="mb-3">Praktik mindfulness bisa menjadi alat efektif untuk mengelola kecemasan dan stres. Pelajari 5 teknik sederhana yang dapat dilakukan sehari-hari.</p>
                  <a href="#article-mindfulness" class="btn btn-sm btn-primary-custom">Baca Selengkapnya</a>
                </div>
              </div>
            </div>

            <div class="col-md-6 blog-item">
              <div class="blog-card">
                <div class="blog-card-img" style="background-image: url('https://th.bing.com/th/id/OIP.VVXFotFDeK5YHn6hk0eTbwHaDt?rs=1&pid=ImgDetMain');"></div>
                <div class="blog-card-body">
                  <span class="blog-category">Kesehatan Mental</span>
                  <span class="blog-category">Tips Kesehatan</span>
                  <span class="blog-date"><i class="far fa-calendar-alt me-1"></i> 1 Mei 2025</span>
                  <h3 class="blog-title h5">Memahami Gangguan Kecemasan: Jenis, Gejala, dan Penanganannya</h3>
                  <p class="mb-3">Gangguan kecemasan adalah kondisi umum yang dapat mempengaruhi kualitas hidup. Pelajari berbagai jenis, gejala, dan pilihan pengobatan yang tersedia.</p>
                  <a href="#article-kecemasan" class="btn btn-sm btn-primary-custom">Baca Selengkapnya</a>
                </div>
              </div>
            </div>

            <div class="col-md-6 blog-item">
              <div class="blog-card">
                <div class="blog-card-img" style="background-image: url('https://th.bing.com/th/id/OIP.utv8gUh5fG9njDTixRSNDQHaEo?rs=1&pid=ImgDetMain');"></div>
                <div class="blog-card-body">
                  <span class="blog-category">Kecanduan</span>
                  <span class="blog-category">Motivasi</span>
                  <span class="blog-date"><i class="far fa-calendar-alt me-1"></i> 25 April 2025</span>
                  <h3 class="blog-title h5">Perjalanan Rehabilitasi: Tahapan Pemulihan dari Kecanduan</h3>
                  <p class="mb-3">Pemulihan dari kecanduan adalah sebuah perjalanan yang penuh tantangan, bukan sekadar tujuan. Pelajari tahapan-tahapan penting dalam proses rehabilitasi dan faktor pendukung keberhasilan.</p>
                  <a href="#article-rehabilitasi" class="btn btn-sm btn-primary-custom">Baca Selengkapnya</a>
                </div>
              </div>
            </div>

            <div class="col-md-6 blog-item">
              <div class="blog-card">
                <div class="blog-card-img" style="background-image: url('https://th.bing.com/th/id/OIP._gvTrQBJGb35CXBbjazaKgHaDn?rs=1&pid=ImgDetMain');"></div>
                <div class="blog-card-body">
                  <span class="blog-category">Kesehatan Mental</span>
                  <span class="blog-category">Motivasi</span>
                  <span class="blog-date"><i class="far fa-calendar-alt me-1"></i> 20 April 2025</span>
                  <h3 class="blog-title h5">Peran Dukungan Keluarga dalam Kesehatan Mental</h3>
                  <p class="mb-3">Dukungan keluarga sangat penting dalam proses pemulihan kesehatan mental. Pelajari cara mendukung anggota keluarga yang sedang berjuang dengan masalah kesehatan mental.</p>
                  <a href="#article-dukungan-keluarga" class="btn btn-sm btn-primary-custom">Baca Selengkapnya</a>
                </div>
              </div>
            </div>
          </div>

          <nav aria-label="Pagination" class="mt-5">
            <ul class="pagination">
              <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>

        <div class="col-lg-4">
          <div class="sidebar mb-4">
            <h4 class="sidebar-title">Cari Artikel</h4>
            <div class="input-group">
              <input type="text" id="searchInput" class="form-control" placeholder="Kata kunci..." onkeyup="filterArticles()">
            </div>
          </div>

          <div class="sidebar mb-4">
            <h4 class="sidebar-title">Artikel Populer</h4>
            <ul class="sidebar-list">
              <li>
                <a href="#article-judi-online">Dampak Judi Online pada Kesehatan Mental</a>
                <small class="d-block text-muted">15 Mei 2025</small>
              </li>
              <li>
                <a href="#article-kecanduan">Mengenali Tanda-tanda Kecanduan</a>
                <small class="d-block text-muted">10 Mei 2025</small>
              </li>
              <li>
                <a href="#article-mindfulness">5 Teknik Mindfulness untuk Mengatasi Kecemasan</a>
                <small class="d-block text-muted">5 Mei 2025</small>
              </li>
              <li>
                <a href="#article-kecemasan">Memahami Gangguan Kecemasan</a>
                <small class="d-block text-muted">1 Mei 2025</small>
              </li>
              <li>
                <a href="#article-dukungan-keluarga">Peran Dukungan Keluarga dalam Kesehatan Mental</a>
                <small class="d-block text-muted">20 April 2025</small>
              </li>
            </ul>
          </div>

          <div class="sidebar mb-4">
            <h4 class="sidebar-title">Kategori</h4>
            <ul class="sidebar-list">
              <li><a href="#" class="sidebar-category" data-category="Kesehatan Mental">Kesehatan Mental <span class="badge bg-light text-dark">4</span></a></li>
              <li><a href="#" class="sidebar-category" data-category="Kecanduan">Kecanduan <span class="badge bg-light text-dark">2</span></a></li>
              <li><a href="#" class="sidebar-category" data-category="Tips Kesehatan">Tips Kesehatan <span class="badge bg-light text-dark">2</span></a></li>
              <li><a href="#" class="sidebar-category" data-category="Motivasi">Motivasi <span class="badge bg-light text-dark">2</span></a></li>
              <li><a href="#" class="sidebar-category" data-category="Judi Online">Judi Online <span class="badge bg-light text-dark">1</span></a></li>
              <li><a href="#" class="sidebar-category" data-category="Mindfulness">Mindfulness <span class="badge bg-light text-dark">1</span></a></li>
            </ul>
          </div>

          <div class="sidebar mb-4">
            <h4 class="sidebar-title">Sumber Bantuan</h4>
            <div class="d-grid gap-2">
              <a href="tel:021-500-454" class="btn btn-outline-secondary" target="_blank">
                <i class="fas fa-phone-alt me-2"></i>Hotline Kesehatan Jiwa Kemenkes
              </a>
              <a href="https://www.halodoc.com/tanya-dokter" class="btn btn-outline-secondary" target="_blank">
                <i class="fas fa-user-md me-2"></i>Konsultasi dengan Profesional
              </a>
              <a href="https://www.alodokter.com/search?s=Kesehatan+Mental" class="btn btn-outline-secondary" target="_blank">
                <i class="fas fa-book me-2"></i>Artikel & Panduan Self-Help
              </a>
              <a href="https://www.yayasanpulih.org/" class="btn btn-outline-secondary" target="_blank">
                <i class="fas fa-hands-helping me-2"></i>Support Group
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="article-judi-online" class="pb-5 bg-light-custom d-none">
    </section>
  <section id="article-kecanduan" class="pb-5 bg-light-custom d-none">
    </section>
  <section id="article-mindfulness" class="pb-5 bg-light-custom d-none">
    </section>
  <section id="article-kecemasan" class="pb-5 bg-light-custom d-none">
    </section>
  <section id="article-rehabilitasi" class="pb-5 bg-light-custom d-none">
    </section>
  <section id="article-dukungan-keluarga" class="pb-5 bg-light-custom d-none">
    </section>

  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
          <h3 class="mb-3">MentalMate</h3>
          <p>Teman virtual untuk kesehatan mental yang lebih baik.</p>
        </div>
        <div class="col-md-6 text-center text-md-end">
          <p>© 2025 MentalMate. Hak Cipta Dilindungi.</p>
          <p>Dibuat dengan <i class="fas fa-heart text-accent-custom"></i> untuk kesehatan mental yang lebih baik.</p>
        </div>
      </div>
    </div>
  </footer>

  <div class="modal fade" id="chatbotModal" tabindex="-1" aria-labelledby="chatbotModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header chat-header">
          <div class="chat-header-icon">
            <i class="fas fa-comment-dots"></i>
          </div>
          <div>
            <h5 class="modal-title" id="chatbotModalLabel">MentalMate Chatbot</h5>
            <small>Online</small>
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="chat-box" id="chat-box">
            <div class="chat-message ai-message">
              <strong>MentalMate:</strong> Halo! Saya MentalMate, asisten kesehatan mental virtualmu. Bagaimana perasaanmu hari ini? Ada yang bisa saya bantu?
            </div>
            </div>
        </div>
        <div class="modal-footer">
          <div class="chat-input-container">
            <textarea class="chat-input" id="user-input" placeholder="Ketik pesanmu di sini..." rows="1"></textarea>
            <button class="btn btn-secondary-custom chat-send-btn" id="send-button">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
        
  <script>
    const filterButtons = document.querySelectorAll('.filter-btn');
    const sidebarLinks = document.querySelectorAll('.sidebar-category');
    const blogCards = document.querySelectorAll('#blog-list .blog-card');

    function filterArticlesByCategory(category) {
      blogCards.forEach(card => {
        const categories = Array.from(card.querySelectorAll('.blog-category')).map(span => span.textContent.trim());
        const cardCol = card.closest('.col-md-6');
        if (category === 'Semua' || categories.includes(category)) {
          cardCol.style.display = 'block';
        } else {
          cardCol.style.display = 'none';
        }
      });

      // Atur active class di filterButtons
      filterButtons.forEach(btn => {
        if (btn.dataset.category === category) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });

      // Atur active class di sidebarLinks
      sidebarLinks.forEach(link => {
        if (link.dataset.category === category) {
          link.classList.add('active');
        } else {
          link.classList.remove('active');
        }
      });
    }

    // Untuk tombol filter atas
    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.dataset.category;
        filterArticlesByCategory(category);
      });
    });

    // Untuk kategori di sidebar
    sidebarLinks.forEach(link => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        const category = this.dataset.category;
        filterArticlesByCategory(category);
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    });

    function filterArticles() {
      const keyword = document.getElementById('searchInput').value.toLowerCase();
      const blogItems = document.querySelectorAll('#blog-list .blog-item');

      blogItems.forEach(item => {
        const title = item.querySelector('.blog-title').textContent.toLowerCase();
        if (title.includes(keyword)) {
          item.style.display = '';
        } else {
          item.style.display = 'none';
        }
      });
    }
    
    function showArticleByHref(button) {
      const targetId = button.getAttribute('href');
      const article = document.querySelector(targetId);
      const category = document.querySelector('.category-filter');
      const blogList = document.getElementById('blog-list');
      const sidebar = document.querySelector('.col-lg-4');
      const pagination = document.querySelector('.mt-5');

      if (article && blogList) {
        category.classList.add('d-none')
        blogList.classList.add('d-none');
        sidebar.classList.add('d-none');
        pagination.classList.add('d-none');
        
        document.querySelectorAll('section[id^="article-"]').forEach(item => item.classList.add('d-none'));
        article.classList.remove('d-none');

        // Optional: scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    // Untuk tombol "Baca Selengkapnya"
    document.querySelectorAll('.btn.btn-sm.btn-primary-custom').forEach(button => {
      button.addEventListener('click', function (e) {
        e.preventDefault();
        showArticleByHref(this);
      });
    });

    // Untuk tombol "Artikel Populer" juga
    document.querySelectorAll('.sidebar-list a').forEach(link => {
      // Pastikan ini tidak konflik dengan link kategori sidebar yang sudah punya event listener
      if (!link.classList.contains('sidebar-category')) { 
        link.addEventListener('click', function (e) {
          e.preventDefault();
          showArticleByHref(this);
        });
      }
    });

    // Tombol kembali ke blog
    document.querySelectorAll('.back-to-blog').forEach(button => {
      button.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector('.category-filter').classList.remove('d-none');
        document.getElementById('blog-list').classList.remove('d-none');
        document.querySelector('.col-lg-4').classList.remove('d-none');
        document.querySelector('.mt-5').classList.remove('d-none');
        document.querySelectorAll('section[id^="article-"]').forEach(article => {
          article.classList.add('d-none');
        });
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    });

    document.addEventListener('DOMContentLoaded', () => {
      window.scrollTo(0, 0);
    });
  </script>
  <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>
</html>